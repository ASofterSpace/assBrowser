<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Browser by A Softer Space</title>

		<meta name="keywords" content="browser">

		<meta name="description" content="A general entrypoint to files and folders on a computer.">

		@include(inc_dependencies.htm)
	</head>

	<body>
		<script>
			window.data = [[DATA]]
		</script>

		<div id="mainContent" style="overflow: hidden;">
			<div style="width: 25%; height: 99%; white-space: nowrap; float: left; overflow-y: scroll; overflow-x: auto; margin-right: 1%;">
				[[FOLDER_CONTENT]]
			</div>

			<div id="fileContentContainer" style="height: 90%; overflow-y: scroll;">
				[[FILE_CONTENT]]
			</div>

			<div style="height: 1%; padding-top: 7pt;" class="buttonBar">
				[[BUTTONS]]
			</div>

			<div id="consoleContainer" style="height: 1.5%; margin-top: 1%; overflow-y: scroll; overflow-x: auto;">
				[[CONSOLE]]
				&gt;
				<input id="consoleInput" type="text" />
			</div>

			<script>
				var startupFunc = function() {
					var el = document.getElementById("consoleInput");
					if (el) {
						el.addEventListener("keyup", function(e) {
							e.preventDefault();
							if (e.keyCode === 13) {
								window.location.href = "/?path=" + window.data.path +
									"&file=" + window.data.file +
									"&console=" + document.getElementById("consoleInput").value;
							}
						});
					}

					el = document.getElementById("consoleContainer");
					if (el) {
						el.scrollTop = el.scrollHeight;
					}
				};
				startupFunc();
				window.setTimeout(startupFunc, 250);
				window.setTimeout(startupFunc, 500);
				window.setTimeout(startupFunc, 1000);
			</script>
		</div>

		@include(inc_common_end.htm)
